(this.webpackJsonpBovineBookshelf=this.webpackJsonpBovineBookshelf||[]).push([[0],{67:function(e,t,a){e.exports=a.p+"static/media/cow.0e00cb24.jpg"},84:function(e,t,a){e.exports=a(96)},96:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(10),o=a.n(r),c=a(7),i=a(51),u=a(43),s=a(13),m=a(134),d=a(153),g=a(155),h=a(154),b=a(137),f=a(74),E=a(139),v=a(67),O=a.n(v),p=Object(m.a)((function(e){return{title:{textAlign:"center",paddingTop:"5px"},image:Object(i.a)({height:"75vh"},e.breakpoints.down("md"),{height:"52vh"})}}));function j(){var e=p();return l.a.createElement(b.a,{variant:"outlined"},l.a.createElement(f.a,{variant:"h2",className:e.title},"Bovine Bookshelf"),l.a.createElement(E.a,{component:"img",image:O.a,className:e.image}))}var k=a(158),B=a(149),S=a(150),A=a(151),N=a(146),w=a(156),T=a(140),C=a(141),x=a(142),y=a(143),I=a(144),L=a(145),P=Object(m.a)({table:{width:"92%",margin:"auto"},button:{marginRight:"10px"}});function q(e){var t=this,a=P();return l.a.createElement(T.a,null,l.a.createElement(C.a,{className:a.table},l.a.createElement(x.a,null,l.a.createElement(y.a,null,l.a.createElement(I.a,null,"Title"),l.a.createElement(I.a,{align:"left"},"Author"),l.a.createElement(I.a,{align:"left"},"Length"),l.a.createElement(I.a,{align:"left"},"Genre"),l.a.createElement(I.a,{align:"left"},"Audience"),l.a.createElement(I.a,{align:"left"},"Actions"))),l.a.createElement(L.a,null,e.books.map((function(n){return l.a.createElement(y.a,{key:n.id},l.a.createElement(I.a,{component:"th",scope:"row"}," ",n.title," "),l.a.createElement(I.a,{align:"left"},n.author),l.a.createElement(I.a,{align:"left"},n.length),l.a.createElement(I.a,{align:"left"},n.genre),l.a.createElement(I.a,{align:"left"},n.audience),l.a.createElement(I.a,{align:"left"},l.a.createElement(N.a,{size:"small",variant:"outlined",onClick:e.editButtonAction.bind(t,n),disabled:e.editStatus,className:a.button},"Edit"),l.a.createElement(N.a,{size:"small",variant:"outlined",onClick:e.deleteButtonAction.bind(t,n),disabled:e.editStatus},"Delete")))})))))}var z=a(147),F=a(148),J=a(99),M=a(104),R=a(102),W=a(159),D=a(100),H={title:function(e){var t,a;return""===e?(t=!0,a="Please enter a title."):e.length>40?(t=!0,a="Please limit to 40 characters."):/[^a-zA-Z0-9 ']/.test(e)?(t=!0,a="Cannot contain special characters."):(t=!1,a=""),[t,a]},author:function(e){var t,a;return""===e?(t=!0,a="Please enter an author."):e.length>25?(t=!0,a="Please limit to 25 characters."):/^([A-Za-z]+),\s([A-Za-z]+)$/.test(e)?(t=!1,a=""):(t=!0,a="Please enter as LastName, FirstName."),[t,a]},length:function(e){var t,a;return e>0&&e<1e4?(t=!1,a=""):(t=!0,a="Must be between 1 and 9999."),[t,a]},genre:function(e){var t,a;return""===e?(t=!0,a="Please select a genre."):(t=!1,a=""),[t,a]},audience:function(e){var t,a;return""===e?(t=!0,a="Please select an audience."):(t=!1,a=""),[t,a]}},Z=Object(m.a)({pageTitle:{textAlign:"center",padding:"5px"},card:{width:"92%",margin:"auto",marginBottom:25},cardTitle:{marginBottom:10},formInput:{minWidth:120,paddingRight:25,paddingBottom:3},formInputTitle:{minWidth:275,paddingRight:25,paddingBottom:3},button:{marginBottom:10,marginRight:10,float:"right"}});function G(e){var t,a=e.book,r=void 0===a?{id:"",title:"",author:"",length:"",genre:"",audience:""}:a,o=e.cardTitle,i=e.isEdit,u=e.getNewBookId,s=e.formAction,m=e.submitLabel,d=e.cancelAction,g=e.cancelLabel,h=Z(),E=Object(n.useState)(r.title),v=Object(c.a)(E,2),O=v[0],p=v[1],j=Object(n.useState)(!1),k=Object(c.a)(j,2),B=k[0],S=k[1],A=Object(n.useState)(""),w=Object(c.a)(A,2),T=w[0],C=w[1],x=Object(n.useState)(r.author),y=Object(c.a)(x,2),I=y[0],L=y[1],P=Object(n.useState)(!1),q=Object(c.a)(P,2),G=q[0],K=q[1],Y=Object(n.useState)(""),V=Object(c.a)(Y,2),$=V[0],Q=V[1],U=Object(n.useState)(r.length),X=Object(c.a)(U,2),_=X[0],ee=X[1],te=Object(n.useState)(!1),ae=Object(c.a)(te,2),ne=ae[0],le=ae[1],re=Object(n.useState)(""),oe=Object(c.a)(re,2),ce=oe[0],ie=oe[1],ue=Object(n.useState)(r.genre),se=Object(c.a)(ue,2),me=se[0],de=se[1],ge=Object(n.useState)(!1),he=Object(c.a)(ge,2),be=he[0],fe=he[1],Ee=Object(n.useState)(""),ve=Object(c.a)(Ee,2),Oe=ve[0],pe=ve[1],je=Object(n.useState)(r.audience),ke=Object(c.a)(je,2),Be=ke[0],Se=ke[1],Ae=Object(n.useState)(!1),Ne=Object(c.a)(Ae,2),we=Ne[0],Te=Ne[1],Ce=Object(n.useState)(""),xe=Object(c.a)(Ce,2),ye=xe[0],Ie=xe[1],Le=0===O.length||0===I.length||0===me.length||0===_.length||0===Be.length||B||G||ne||be||we,Pe=function(){p(""),L(""),ee(""),de(""),Se("")};return t=i?d:Pe,l.a.createElement("div",null,l.a.createElement(b.a,{variant:"outlined",className:h.card},l.a.createElement(z.a,null,l.a.createElement(f.a,{variant:"h5",className:h.cardTitle},o),l.a.createElement("form",null,l.a.createElement(F.a,{label:"Title",required:!0,value:O,onChange:function(e){p(e.target.value)},className:h.formInputTitle,error:B,helperText:T,onBlur:function(e){p(e.target.value.trim());var t=H.title(O),a=Object(c.a)(t,2),n=a[0],l=a[1];S(n),C(l)}}),l.a.createElement(F.a,{label:"Author (Last, First)",required:!0,value:I,onChange:function(e){L(e.target.value)},className:h.formInput,error:G,helperText:$,onBlur:function(e){L(e.target.value.trim());var t=H.author(I),a=Object(c.a)(t,2),n=a[0],l=a[1];K(n),Q(l)}}),l.a.createElement(F.a,{label:"Length in pages",required:!0,value:_,onChange:function(e){ee(parseInt(e.target.value,10))},className:h.formInput,error:ne,helperText:ce,onBlur:function(){var e=H.length(_),t=Object(c.a)(e,2),a=t[0],n=t[1];le(a),ie(n)}}),l.a.createElement(J.a,{required:!0,className:h.formInput,error:be,onBlur:function(){var e=H.genre(me),t=Object(c.a)(e,2),a=t[0],n=t[1];fe(a),pe(n)}},l.a.createElement(M.a,null,"Genre"),l.a.createElement(R.a,{value:me,onChange:function(e){de(e.target.value)}},l.a.createElement(W.a,{value:"fiction"},"fiction"),l.a.createElement(W.a,{value:"nonfiction"},"nonfiction")),l.a.createElement(D.a,null,Oe)),l.a.createElement(J.a,{required:!0,className:h.formInput,error:we,onBlur:function(){var e=H.audience(Be),t=Object(c.a)(e,2),a=t[0],n=t[1];Te(a),Ie(n)}},l.a.createElement(M.a,null,"Audience"),l.a.createElement(R.a,{value:Be,onChange:function(e){Se(e.target.value)}},l.a.createElement(W.a,{value:"adults"},"adults"),l.a.createElement(W.a,{value:"children"},"children")),l.a.createElement(D.a,null,ye))),l.a.createElement("br",null),l.a.createElement(N.a,{onClick:function(e){var t;(e.preventDefault(),i)?t={id:r.id,title:O,author:I,length:_,genre:me,audience:Be}:(t={id:u(),title:O,author:I,length:_,genre:me,audience:Be},Pe());s(t)},className:h.button,disabled:Le,variant:"contained",color:"primary"}," ",m," "),l.a.createElement(N.a,{onClick:t,className:h.button,variant:"contained",color:"secondary"}," ",g," "))))}var K=Object(m.a)({title:{textAlign:"center",padding:"5px"},alert:{width:"90%",margin:"auto",marginBottom:10,textAlign:"center"}});function Y(e){var t=K(),a=Object(n.useState)(!1),r=Object(c.a)(a,2),o=r[0],i=r[1],u=Object(n.useState)([]),s=Object(c.a)(u,2),m=s[0],d=s[1],g=Object(n.useState)(!1),h=Object(c.a)(g,2),b=h[0],E=h[1],v=Object(n.useState)(),O=Object(c.a)(v,2),p=O[0],j=O[1],T=Object(n.useState)(!1),C=Object(c.a)(T,2),x=C[0],y=C[1],I=Object(n.useState)(),L=Object(c.a)(I,2),P=L[0],z=L[1],F=function(){E(!1)};return l.a.createElement("div",null,l.a.createElement(f.a,{variant:"h2",className:t.title},"Bookshelf"),x&&l.a.createElement(w.a,{severity:"success",className:t.alert},P),o&&l.a.createElement(G,{cardTitle:"Make changes, then click save",book:m,isEdit:!0,cancelAction:function(){i(!1)},cancelLabel:"Cancel",formAction:function(t){i(!1),e.editAction(t),y(!0),z("Book was successfully edited!"),setTimeout((function(){return y(!1)}),2e3)},submitLabel:"Save"}),l.a.createElement(q,{books:e.books,editButtonAction:function(e){i(!0),d(e)},deleteButtonAction:function(e){E(!0),j(e)},editStatus:o}),l.a.createElement(k.a,{open:b,onClose:F},l.a.createElement(B.a,null,l.a.createElement(S.a,null,"Are you sure you want to delete this book?")),l.a.createElement(A.a,null,l.a.createElement(N.a,{onClick:F},"No"),l.a.createElement(N.a,{onClick:function(){E(!1),e.deleteAction(p),y(!0),z("Book was successfully deleted!"),setTimeout((function(){return y(!1)}),2e3)},color:"primary",autoFocus:!0},"Yes"))))}var V=Object(m.a)({pageTitle:{textAlign:"center",padding:"5px"},alert:{width:"90.5%",margin:"auto",marginBottom:10,textAlign:"center"}});function $(e){var t=V(),a=Object(n.useState)(!1),r=Object(c.a)(a,2),o=r[0],i=r[1];return l.a.createElement("div",null,l.a.createElement(f.a,{variant:"h2",className:t.pageTitle},"Add a Book"),o&&l.a.createElement(w.a,{severity:"success",className:t.alert},"Book was successfully added!"),l.a.createElement(G,{cardTitle:"Know a book that belongs on the Bovine Bookshelf? Enter its details and click Submit to add it:",isEdit:!1,getNewBookId:e.getNewBookId,cancelLabel:"Clear",submitLabel:"Submit",formAction:function(t){e.addAction(t),i(!0),setTimeout((function(){return i(!1)}),2e3)}}))}var Q=a(152),U=a(71),X=a.n(U),_=Object(m.a)((function(e){return{footer:{position:"absolute",bottom:0,width:"100%",height:"1rem",textAlign:"center"}}}));function ee(){var e=_();return l.a.createElement("footer",{className:e.footer},l.a.createElement(f.a,null,(new Date).getFullYear()," \u2014 ThinkTink \u2014 ",l.a.createElement(Q.a,{href:"https://github.com/ThinkTink/BovineBookshelf"}," ",l.a.createElement(X.a,{color:"action"})," ")))}var te=Object(m.a)((function(e){return{container:Object(i.a)({position:"relative",minHeight:"95vh"},e.breakpoints.down("md"),{minHeight:"87vh"}),content:{paddingBottom:"1rem"}}}));function ae(){var e=te(),t=Object(n.useState)(0),a=Object(c.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)([]),m=Object(c.a)(i,2),b=m[0],f=m[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("books"));f(e)}),[]),Object(n.useEffect)((function(){localStorage.setItem("books",JSON.stringify(b))}),[b]);var E=function(){return b.reduce((function(e,t){return Math.max(e,t.id)}),0)+1},v=function(e){var t=b;t.push(e),f(t)},O=function(e){var t=b.filter((function(t){return t.id!==e.id}));f(t)},p=function(e){var t=b.map((function(t){return t.id===e.id&&(t.title=e.title,t.author=e.author,t.length=e.length,t.genre=e.genre,t.audience=e.audience),t}));f(t)};return l.a.createElement("div",{className:e.container},l.a.createElement("div",{className:e.content},l.a.createElement(d.a,{position:"static",color:"default"},l.a.createElement(g.a,{variant:"fullWidth",value:r,onChange:function(e,t){o(t)},indicatorColor:"primary",textColor:"primary"},l.a.createElement(h.a,{label:"Home",component:u.b,to:"/BovineBookshelf"}),l.a.createElement(h.a,{label:"See the Books",component:u.b,to:"/BovineBookshelf/bookshelf"}),l.a.createElement(h.a,{label:"Add a Book",component:u.b,to:"/BovineBookshelf/add"}))),l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"/BovineBookshelf",component:j}),l.a.createElement(s.a,{path:"/BovineBookshelf/bookshelf",render:function(e){return l.a.createElement(Y,Object.assign({},e,{books:b,deleteAction:O,editAction:p}))}}),l.a.createElement(s.a,{path:"/BovineBookshelf/add",render:function(e){return l.a.createElement($,Object.assign({},e,{addAction:v,getNewBookId:E}))}})),l.a.createElement(ee,null)))}null===localStorage.getItem("books")&&localStorage.setItem("books",JSON.stringify([{id:1,title:"The Family Cow",author:"Van Loon, Dirk",length:262,genre:"nonfiction",audience:"adults"},{id:2,title:"The Cow: A Tribute",author:"Lampert, Werner",length:479,genre:"nonfiction",audience:"adults"},{id:3,title:"Cow Country",author:"Pearson, Adrian",length:539,genre:"fiction",audience:"adults"},{id:4,title:"Stop That Cow!",author:"Mackinnon, Mairi",length:32,genre:"fiction",audience:"children"},{id:5,title:"The Cow Loves Cookies",author:"Wilson, Karma",length:15,genre:"fiction",audience:"children"},{id:6,title:"Cows",author:"Nelson, Robin",length:23,genre:"nonfiction",audience:"children"}])),o.a.render(l.a.createElement(u.a,null,l.a.createElement(ae,null)),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.3c453d28.chunk.js.map